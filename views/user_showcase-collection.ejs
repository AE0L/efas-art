<!DOCTYPE html>
<html lang="en">

    <head>
        <%- include('partials/head_meta') %>

        <title><%= col.name %> - <%= user.handle %> | EFAS Art</title>

        <%- include('scripts/stylesheet') %>

        <%- include('partials/head_styles') %>

        <link rel="stylesheet" href="/css/user-page.css">
        <link rel="stylesheet" href="/css/user-page_works.css">

        <style>
            #col-works-cont {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                justify-items: center;
            }

        </style>
    </head>

    <body>
        <%- include('partials/nav-bar', { active: 0 }) %>

        <div id="content-cont" class="container mb-5">
            <%- include('partials/user/header', {
                user: user,
                page: 'collections'
            }) %>

            <main>
                <%- include('partials/user/nav', { 
                    user_id: user.id,
                    active: 2
                }) %>

                <div class="container-fluid d-flex align-items-center mb-2">
                    <a href="/u/<%= user.id %>/collections" class="text-dark">
                        <i class="me-2 fas fa-arrow-left" style="font-size: 1.25em;"></i>
                    </a>
                    <h3 class="m-0"><%= col.title %></h3>
                </div>

                <div class="container-fluid py-3">
                    <p class="lead" style="text-indent: 2em;"><%= col.description %></p>
                </div>

                <% if (col.arts.length > 0) { %>

                <div id="col-works-cont" class="container-fluid px-0 gap-3 mb-5">

                    <% for (let art of col.arts) { %>

                    <%- include('data/user_art', {
                        art_id: art.id,
                        art_src: art.pic,
                        art_title: art.name
                    }) %>

                    <% } %>

                </div>

                <% } else { %>

                <div class="container-fluid mb-3">
                    <p class="text-muted text-center">This user doesn't have any artworks on this collection</p>
                </div>

                <% } %>
            </main>
        </div>

        <%- include('partials/footer') %>
    </body>

</html>
